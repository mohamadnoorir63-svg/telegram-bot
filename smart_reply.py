import random

# ======================= ๐ ุชุดุฎุต ุงุญุณุงุณ =======================

def detect_emotion(text: str) -> str:
    """ุชุดุฎุต ุงุญุณุงุณ ฺฉู ุงุฒ ูุชู"""
    text = text.strip().lower()
    if any(w in text for w in ["๐ข", "ุบู", "ุฏูฺฏุฑ", "ุจุฏ", "ูุงุฑุงุญุชู", "ฺฏุฑู"]):
        return "sad"
    if any(w in text for w in ["๐", "๐คฃ", "ุฎูุฏู", "ุจุงุญุงูู", "ุจุงุญุงู", "๐"]):
        return "funny"
    if any(w in text for w in ["๐ก", "ุนุตุจุงู", "ุญุฑุต", "ูุนูุช", "ุจุฏู ูุงุฏ"]):
        return "angry"
    if any(w in text for w in ["โค๏ธ", "ุฏูุณุชุช ุฏุงุฑู", "ุนุดู", "ุนุงุดู"]):
        return "love"
    return "neutral"

# ======================= ๐ง ูพุงุณุฎ ููุดููุฏ =======================

def smart_response(text: str, emotion: str = "neutral") -> str:
    """ุชููุฏ ูพุงุณุฎ ุทุจุน ุจุฑ ุงุณุงุณ ุงุญุณุงุณ ุชุดุฎุต ุฏุงุฏูโุดุฏู"""
    responses = {
        "sad": [
            "ูุงุฑุงุญุช ูุจุงุด ุฑูู ๐ข",
            "ููู ฺ ุฏุฑุณุช ูุดู โค๏ธ",
            "ุบู ูุฎูุฑุ ูู ฺฉูุงุฑุช ูุณุชู ๐ค"
        ],
        "funny": [
            "๐๐ ุนุฌุจ ฺฏูุช!",
            "ุฎู ุฎูุฏุฏู ๐",
            "ุชู ููุดู ุจุงุญุงู ูโููุณ ๐"
        ],
        "angry": [
            "ุขุฑูู ุจุงุดุ ุงุนุตุงุจ ุฎูุฏุชู ุฎูุฑุฏ ูฺฉู ๐",
            "ูโูููู ุนุตุจุงูโุง ๐ ูู ุขุฑููโุชุฑ ุญุฑู ุจุฒู.",
            "ู ููุงู ุขุจ ุจุฎูุฑุ ุขุฑูู ุด ๐"
        ],
        "love": [
            "ุนู ุฌุฏุ ๐ฅฐ",
            "ุฎู ูุดูฺฏ ฺฏูุช ๐",
            "ุนุดู ูุดูฺฏู ูู ูุฑุงูุจ ุฏูุช ุจุงุด โค๏ธ"
        ],
        "neutral": [
            "ุขุฑู ุฏุฑุณุชู ๐",
            "ุฌุงูุจู ๐ค",
            "ุงุฏุงูู ุจุฏูุ ุฏุงุฑู ฺฏูุด ูุฏู ๐"
        ]
    }

    # ุงูุชุฎุงุจ ูพุงุณุฎ ุชุตุงุฏู ุจุฑ ุงุณุงุณ ุงุญุณุงุณ
    if emotion in responses:
        return random.choice(responses[emotion])
    return random.choice(responses["neutral"])

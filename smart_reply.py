import random

def detect_emotion(text: str) -> str:
    text = text.lower()
    if any(w in text for w in ["ุบู", "ุจุฏ", "ุฏูฺฏุฑ", "ูุงุฑุงุญุช", "ฺฏุฑู", "ุชููุงู"]):
        return "sad"
    if any(w in text for w in ["ุฎูุดุญุงู", "ุฎูุจู", "ุนุงู", "ุฎูู", "ูุฑุณ"]):
        return "happy"
    if any(w in text for w in ["ุนุตุจุงู", "ุญุฑุต", "ุฎูู ุดู", "ุจุฑู ฺฏูุดู"]):
        return "angry"
    if any(w in text for w in ["ุฏูุณุช", "ุนุดู", "ุฏูู", "ูโุฎูุงู", "ุจุบู"]):
        return "love"
    return "neutral"

def smart_response(text: str, emotion: str) -> str:
    responses = {
        "sad": [
            "ูุงุฑุงุญุช ูุจุงุด ๐ ูู ฺฉูุงุฑุชู ููุดู.",
            "ูโุฏููู ุณุฎุชูุ ูู ูโฺฏุฐุฑู ๐ง๏ธ",
            "ุจุง ู ููุฌูู ฺุง ู ู ูุจุฎูุฏ ๐"
        ],
        "happy": [
            "ูููุทูุฑ ุดุงุฏ ุจููู ๐",
            "ฺู ุนุงู! ุฎูุดุญุงูู ุจุฑุงุช โจ",
            "ูุจุฎูุฏุช ุฏูุง ุฑู ูุดูฺฏโุชุฑ ูโฺฉูู ๐"
        ],
        "angry": [
            "ุขุฑูู ุจุงุด ๐ ุงุฑุฒุดุด ุฑู ูุฏุงุฑู!",
            "ููุณ ุนูู ุจฺฉุด ๐ค",
            "ุจุงุดู ุจุงุดูุ ุนุตุจุงู ูุจุงุด ๐"
        ],
        "love": [
            "ุนู ุฌุฏุ ๐ฅฐ ููู ุฏูุณุชุช ุฏุงุฑู!",
            "ุงุญุณุงุณุงุช ูุดูฺฏ ุฏุงุฑ ๐",
            "ุนุดู ููุดู ูุดูฺฏู ๐น"
        ],
        "neutral": []
    }
    return random.choice(responses.get(emotion, [])) if responses.get(emotion) else None
